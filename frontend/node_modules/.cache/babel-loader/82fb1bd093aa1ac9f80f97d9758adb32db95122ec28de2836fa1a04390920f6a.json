{"ast":null,"code":"/**\r\n * AstroBot API Service\r\n * Handles all communication with the backend API\r\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nclass AstroBotAPI {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  /**\r\n   * Send a chat message to the backend\r\n   * @param {string} message - User message\r\n   * @param {Object} kundliData - Optional Kundli data for context\r\n   * @returns {Promise<Object>} API response\r\n   */\n  async sendChatMessage(message, kundliData = null) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: message,\n          kundli_data: kundliData\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error sending chat message:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Generate Kundli chart\r\n   * @param {Object} birthDetails - Birth details\r\n   * @returns {Promise<Object>} Kundli data\r\n   */\n  async generateKundli(birthDetails) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/kundli`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(birthDetails)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error generating Kundli:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Generate visual chart only\r\n   * @param {Object} birthDetails - Birth details\r\n   * @returns {Promise<Object>} Chart data\r\n   */\n  async generateChart(birthDetails) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/chart`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(birthDetails)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error generating chart:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Analyze Kundli data\r\n   * @param {Object} kundliData - Kundli data to analyze\r\n   * @returns {Promise<Object>} Analysis result\r\n   */\n  async analyzeKundli(kundliData) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/analyze`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          kundli_data: kundliData\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error analyzing Kundli:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Get coordinates for a place\r\n   * @param {string} place - Place name\r\n   * @returns {Promise<Object>} Coordinates data\r\n   */\n  async getCoordinates(place) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/coordinates/${encodeURIComponent(place)}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error getting coordinates:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Check if the backend is healthy\r\n   * @returns {Promise<Object>} Health status\r\n   */\n  async checkHealth() {\n    try {\n      const response = await fetch(`${this.baseURL}/api/health`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error checking health:', error);\n      throw error;\n    }\n  }\n}\n\n// Create and export API instance\nconst astroBotAPI = new AstroBotAPI();\nexport default astroBotAPI;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","AstroBotAPI","constructor","baseURL","sendChatMessage","message","kundliData","response","fetch","method","headers","body","JSON","stringify","kundli_data","ok","Error","status","json","error","console","generateKundli","birthDetails","generateChart","analyzeKundli","getCoordinates","place","encodeURIComponent","checkHealth","astroBotAPI"],"sources":["D:/Downloads/astro-main/frontend/src/services/api.js"],"sourcesContent":["/**\r\n * AstroBot API Service\r\n * Handles all communication with the backend API\r\n */\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nclass AstroBotAPI {\r\n  constructor() {\r\n    this.baseURL = API_BASE_URL;\r\n  }\r\n\r\n  /**\r\n   * Send a chat message to the backend\r\n   * @param {string} message - User message\r\n   * @param {Object} kundliData - Optional Kundli data for context\r\n   * @returns {Promise<Object>} API response\r\n   */\r\n  async sendChatMessage(message, kundliData = null) {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/chat`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          message: message,\r\n          kundli_data: kundliData\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error sending chat message:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate Kundli chart\r\n   * @param {Object} birthDetails - Birth details\r\n   * @returns {Promise<Object>} Kundli data\r\n   */\r\n  async generateKundli(birthDetails) {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/kundli`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(birthDetails)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error generating Kundli:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate visual chart only\r\n   * @param {Object} birthDetails - Birth details\r\n   * @returns {Promise<Object>} Chart data\r\n   */\r\n  async generateChart(birthDetails) {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/chart`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(birthDetails)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error generating chart:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Analyze Kundli data\r\n   * @param {Object} kundliData - Kundli data to analyze\r\n   * @returns {Promise<Object>} Analysis result\r\n   */\r\n  async analyzeKundli(kundliData) {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/analyze`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          kundli_data: kundliData\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error analyzing Kundli:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get coordinates for a place\r\n   * @param {string} place - Place name\r\n   * @returns {Promise<Object>} Coordinates data\r\n   */\r\n  async getCoordinates(place) {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/coordinates/${encodeURIComponent(place)}`);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error getting coordinates:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if the backend is healthy\r\n   * @returns {Promise<Object>} Health status\r\n   */\r\n  async checkHealth() {\r\n    try {\r\n      const response = await fetch(`${this.baseURL}/api/health`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error checking health:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\n// Create and export API instance\r\nconst astroBotAPI = new AstroBotAPI();\r\nexport default astroBotAPI;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}